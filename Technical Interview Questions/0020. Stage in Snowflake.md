### ❄️ What is a **Stage** in Snowflake?

In **Snowflake**, a **stage** is a **temporary or permanent storage location** used to **load data into** or **unload data from** Snowflake tables.
Think of it as a **landing zone** for files before they’re ingested into a table or after being extracted.

---

## 🔹 Types of Stages in Snowflake

| Type               | Description                                                                              |
| ------------------ | ---------------------------------------------------------------------------------------- |
| **Internal Stage** | Located **within Snowflake**'s storage.                                                  |
| **External Stage** | Points to external storage like **AWS S3**, **Azure Blob**, or **Google Cloud Storage**. |

---

## 🔸 Internal Stages

| Stage Type      | Description                                                                  |
| --------------- | ---------------------------------------------------------------------------- |
| **User Stage**  | One per Snowflake user. Automatically created.                               |
| **Table Stage** | One per table. Used for loading/unloading data to/from a specific table.     |
| **Named Stage** | A **custom, reusable stage** created by the user. Can store files long-term. |

### 📌 Examples:

* `@%my_table` → Table stage for `my_table`
* `@~` → User stage (for current user)
* `@my_named_stage` → Named internal stage

---

## 🔸 External Stage

Used to **connect Snowflake** with:

* AWS S3
* Azure Blob Storage
* Google Cloud Storage

Example:

```sql
CREATE STAGE my_ext_stage
URL='s3://my-bucket/data/'
CREDENTIALS=(AWS_KEY_ID='...' AWS_SECRET_KEY='...');
```

---

## 🔁 Common Operations with Stages

| Operation            | Example                                    |
| -------------------- | ------------------------------------------ |
| 📤 Upload (PUT)      | `PUT file://local_path/data.csv @my_stage` |
| 📥 Load into table   | `COPY INTO my_table FROM @my_stage`        |
| 📦 Unload from table | `COPY INTO @my_stage FROM my_table`        |
| 🔍 List files        | `LIST @my_stage`                           |

---

## 🧠 Why Use a Stage?

* **Buffer zone** for loading large files
* Supports **parallel, scalable ingestion**
* Allows **retrying** loads without re-uploading files
* Facilitates **external integrations**

---

## 🧾 Summary

> A **stage** in Snowflake is a **storage area** (internal or external) used to **hold files temporarily** before loading into tables or after unloading. It's a key component in Snowflake’s **data loading/unloading pipeline**.
