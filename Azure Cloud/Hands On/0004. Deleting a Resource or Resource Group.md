🧹 **Deleting a Resource in Azure (Portal, CLI, PowerShell)**

---

# 🧭 1️⃣ Before You Delete — Safety Checklist

🛑 **Always double-check before deleting**, as this action is **irreversible** for most services.

✅ **Do these first:**

* 💾 **Export template / backup configs** — for redeployment later.
* 🔒 **Check for resource locks** — *Delete* or *ReadOnly* locks prevent deletion.
* 👥 **Verify permissions (RBAC)** — you need `Microsoft.Resources/subscriptions/resourcegroups/delete` or equivalent.
* 🔗 **Check dependencies** — e.g., NICs, disks, Recovery Vault backups, linked IPs.

---

# 🌐 2️⃣ Delete a Single Resource — via **Azure Portal**

1. 🏁 **Log in** → [Azure Portal](https://portal.azure.com).
2. 🔍 **Go to “All Resources”** or search the resource type (VM, App Service, Storage, etc.).
  <img width="344" height="340" alt="image" src="https://github.com/user-attachments/assets/a54845ca-98f6-485a-a6c3-607ded1508e5" />

3. 🧩 **Select the resource** you want to delete.<br>
   <img width="558" height="286" alt="image" src="https://github.com/user-attachments/assets/ce2892ac-62a8-4b10-8cdc-d83cc00355cb" />

4. 🗑️ Click **Delete** in the top bar or Overview blade.<br>
   <img width="348" height="465" alt="image" src="https://github.com/user-attachments/assets/e2fcb8aa-b35e-4c5d-abc6-52cd7685a0b3" />

5. ✍️ **Confirm** deletion (type the resource name if prompted).
6. <img width="411" height="223" alt="image" src="https://github.com/user-attachments/assets/5016a80b-5823-4854-996d-db3abe3348fa" />

7. 🔔 **Monitor notifications** (bell icon) for completion.
<img width="319" height="173" alt="image" src="https://github.com/user-attachments/assets/11fa4187-463a-4652-a84f-746fc6c3c4d7" />

   * ⚠️ If blocked → check **Locks** or **Policies** under the resource.

---

# 📦 3️⃣ Delete an Entire Resource Group (deletes everything inside)

> ⚠️ **Danger zone:** this removes **all resources** in that group.

1. 🗂️ Go to **Resource Groups** in the portal.<br>
   <img width="519" height="206" alt="image" src="https://github.com/user-attachments/assets/0ffffb03-51a7-4069-ad77-13b467a7f1c0" />

2. 🧾 Select the **resource group**.<br>
   <img width="587" height="491" alt="image" src="https://github.com/user-attachments/assets/49d2ae03-0849-4e47-8ccb-ba832c8c0759" />

3. 🗑️ Click **Delete resource group**.<br>
   <img width="562" height="322" alt="image" src="https://github.com/user-attachments/assets/cdc3d9f1-e89a-4eb3-a55e-060bea5449bd" />

4. ✍️ Type the group name to confirm.<br>
   <img width="588" height="933" alt="image" src="https://github.com/user-attachments/assets/f293a5da-0275-475d-b4ea-0df2b4b9681e" />

5. ⏳ Wait a few minutes — Azure deletes resources in dependency order.<br>
<img width="319" height="183" alt="image" src="https://github.com/user-attachments/assets/d0cf2446-ad88-4cbb-b541-f6195984ef3b" />

---

# 💻 4️⃣ Delete Using **Azure CLI**

Make sure you’re logged in:

```bash
az login
```

### 🔹 Delete a single resource:

```bash
az resource delete \
  --resource-group MyResourceGroup \
  --name MyResourceName \
  --resource-type "Microsoft.Provider/resourceType"
```

### 🔹 Delete a specific App Service:

```bash
az webapp delete --name MyApp --resource-group MyResourceGroup
```

### 🔹 Delete a Virtual Machine:

```bash
az vm delete --resource-group MyResourceGroup --name MyVM --yes
```

### 🔹 Delete an entire resource group:

```bash
az group delete --name MyResourceGroup --yes --no-wait
```

💡 `--yes` skips confirmation, and `--no-wait` returns immediately.

---

# 🧩 5️⃣ Delete Using **PowerShell (Az module)**

### 🔹 Delete a resource:

```powershell
Remove-AzResource -ResourceId "/subscriptions/<sub>/resourceGroups/<rg>/providers/.../resourceName" -Force
```

### 🔹 Delete a resource group:

```powershell
Remove-AzResourceGroup -Name "MyResourceGroup" -Force
```

⚙️ Use `-Force` to bypass confirmation prompts.

---

# 🚫 6️⃣ If Deletion is Blocked — Fix Common Issues

| ⚠️ Issue                       | 🧭 Resolution                                         |
| ------------------------------ | ----------------------------------------------------- |
| 🔒 **Lock applied**            | Remove it: *Resource → Locks → Delete lock*           |
| 🧱 **Policy denies deletion**  | Check **Azure Policy assignments**                    |
| 🔗 **Dependencies exist**      | Delete dependent resources manually (e.g., NICs, IPs) |
| ❌ **Insufficient permissions** | Ensure your role allows delete actions                |

### CLI: remove a lock

```bash
az lock delete --name MyLock --resource-group MyResourceGroup
```

---

# 🕐 7️⃣ Soft-Delete / Recovery Notes

Some services offer **soft-delete** (can be restored):

* 🔑 **Key Vaults**
* 🧰 **Backup vaults / Recovery Services Vaults**
* 🗄️ **Storage Accounts (deleted blob containers)**

🧩 Check service documentation for recovery options.

---

# 🧠 8️⃣ Best Practices Summary

| ✅ Action                         | 📝 Why                             |
| -------------------------------- | ---------------------------------- |
| 💾 Export ARM/Bicep template     | Redeploy later if needed           |
| 🏷️ Use tags for tracking        | Easy to identify related resources |
| 🔍 Review dependencies           | Avoid orphaned costs               |
| 🧹 Delete unused resource groups | Keeps environment clean            |
| 🔒 Manage locks carefully        | Prevent accidental deletion        |

---

# 🚀 Example Flow

🧱 **Resource Group** → contains → 💻 VM + 🌐 App Service + 📦 Storage →
🗑️ Deleting the **Resource Group** removes **all** these together.

---

Would you like me to also include a **diagram (with icons)** showing the *resource hierarchy and deletion flow* — i.e., how deleting a group cascades to all resources?
