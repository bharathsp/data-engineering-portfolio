## 📌 What is **CTAS** in SQL?

👉 **CTAS** stands for **Create Table As Select**.
It is a SQL command used to **create a new table** and **populate it with the results of a `SELECT` query**.

So, instead of creating a table first and then inserting data, CTAS lets you do both in **one step**.

---

## 🎯 When is CTAS Used?

* ✅ To create a **backup** or snapshot of an existing table.
* ✅ To create a **summary/aggregated table** (e.g., monthly sales).
* ✅ To **improve performance** by precomputing expensive queries.
* ✅ To **migrate schema and data** into a new table format.

---

## 🛠️ Example Use Case

Imagine you have a table:

📊 **Orders**

| OrderID | CustomerID | OrderDate  | Amount |
| ------- | ---------- | ---------- | ------ |
| 1       | 101        | 2023-01-05 | 500    |
| 2       | 102        | 2023-01-06 | 700    |
| 3       | 101        | 2023-02-03 | 300    |
| 4       | 103        | 2023-02-15 | 900    |

Now, you want a table showing **total sales per customer**.

---

### 🔹 SQL with CTAS:

```sql
CREATE TABLE CustomerSales AS
SELECT CustomerID, SUM(Amount) AS TotalSales
FROM Orders
GROUP BY CustomerID;
```

---

### 📊 New Table: **CustomerSales**

| CustomerID | TotalSales |
| ---------- | ---------- |
| 101        | 800        |
| 102        | 700        |
| 103        | 900        |

---

## ✅ Summary

* **CTAS = Create Table As Select**
* Used for **backups, summaries, migrations, and performance optimization**
* Creates **new table + inserts data in one step**
