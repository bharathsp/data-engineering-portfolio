## 🔽 Pushdown in Trino

**Definition:**
👉 *Pushdown* in Trino means delegating parts of a query (like filters, projections, aggregations, or limits) directly to the underlying data source instead of fetching all the raw data into Trino for processing.

---

## ⚙️ How Pushdown Works

Let’s say you run this query in Trino:

```sql
SELECT name, age 
FROM users 
WHERE age > 30;
```

### Without Pushdown:

1. Trino connector fetches **all rows** from the `users` table.
2. Trino applies the filter `age > 30` **inside Trino’s engine**.
3. Huge amount of data moves over the network → slow & expensive.

### With Pushdown:

1. Trino tells the underlying system (e.g., MySQL, MongoDB, Hive, S3, etc.):

   ```sql
   SELECT name, age FROM users WHERE age > 30;
   ```
2. Only **filtered rows** come back to Trino.
3. Less network traffic, less memory usage, faster query execution.

---

## 🛠️ Types of Pushdown in Trino

* **Filter Pushdown** 🔍
  Pushes `WHERE` conditions to source.
  Example: `WHERE date > '2023-01-01'`.

* **Projection Pushdown** ✂️
  Selects only required columns instead of full rows.
  Example: `SELECT name, age` (not fetching 50 other columns).

* **Aggregation Pushdown** ∑
  Pushes `COUNT, SUM, AVG, MIN, MAX` to the source system.
  Example: `SELECT COUNT(*) FROM orders`.

* **Limit Pushdown** 🚦
  Applies `LIMIT 10` at source rather than bringing all rows.

* **Join Pushdown** (experimental, connector-dependent) 🔗
  Some connectors can push joins down to underlying databases.

---

## ⚡ How Pushdown Improves Performance

* 📉 **Reduced Data Transfer:** Only relevant data is moved from source → Trino.
* 🧠 **Lower Memory Usage:** Trino doesn’t need to hold massive intermediate datasets.
* ⏱️ **Faster Queries:** Work is done where data lives (closer to storage).
* 💰 **Cost Efficiency:** Especially in cloud storage (S3, GCS, Snowflake), you pay less for scanned data.

---

✅ **In short:** Pushdown = “Do the heavy lifting at the source, only bring back what’s needed.”
