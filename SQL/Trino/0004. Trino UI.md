# ðŸ”¹ What is the **Trino UI**?

Trino comes with a **built-in web interface** (Web UI) that runs on the **coordinator node** (by default on port **8080**).

* Access it in your browser at:

  ```
  http://<coordinator-host>:8080
  ```
* The UI shows:

  * Running queries
  * Completed queries
  * Query details (SQL text, user, source, catalog/schema used)
  * Query execution time, status, memory usage
  * Worker nodes status (active/inactive)
  * Cluster statistics

<img width="1179" height="739" alt="image" src="https://github.com/user-attachments/assets/360575f5-a717-4ef4-bdc6-69137c38f39b" />

ðŸ‘‰ Itâ€™s mainly for **monitoring and debugging queries**, not for writing queries like SQL editors.

---

# ðŸ”¹ Monitoring Query Execution in Trino

You have multiple ways to monitor Trino queries and cluster health:

---

## 1. **Trino Web UI (Coordinator UI)**

* Shows query list (running, finished, failed).
* For each query you can see:

  * **Execution Plan** (how tasks are distributed to workers).
  
  <img width="1179" height="901" alt="image" src="https://github.com/user-attachments/assets/9b0ca9c7-da75-409b-95b6-7cb144ec5fa9" />

  * **Stages and splits** (parallel execution breakdown).
 
  <img width="1184" height="874" alt="image" src="https://github.com/user-attachments/assets/344e88f7-ea0e-4859-b128-b6b916e134ce" />

  * **CPU time & memory usage** per stage.
 
  
  * **Error messages** (if the query fails).

ðŸ‘‰ This is the quickest way to troubleshoot queries interactively.

---

## 2. **Trino CLI**

You can run queries and see their execution status in the **command line interface**:

```bash
trino --server http://coordinator:8080 --catalog hive --schema default
```

After running a query, CLI shows:

* Query ID
* Execution status (queued, running, finished)
* Time taken

You can cancel queries too:

```sql
CALL system.runtime.kill_query('20250919_123456_00012_x1y2z');
```

---

## 3. **System Tables (for programmatic monitoring)**

Trino exposes metadata in **system catalogs**, especially:

* `system.runtime.queries` â†’ shows all current queries.
* `system.runtime.nodes` â†’ shows worker/coordinator status.
* `system.runtime.tasks` â†’ shows tasks assigned to workers.

ðŸ‘‰ Example: Find currently running queries

```sql
SELECT query_id, state, query, started, elapsed_time
FROM system.runtime.queries
WHERE state = 'RUNNING';
```

ðŸ‘‰ Example: Check worker nodes

```sql
SELECT node_id, http_uri, node_version, coordinator, state
FROM system.runtime.nodes;
```

---

## 4. **REST API (for automation & integration)**

Trino provides REST endpoints on the coordinator for query monitoring.

* **Query info** â†’ `/v1/query/<queryId>`
* **All queries** â†’ `/v1/query`
* **Cluster info** â†’ `/v1/info`

Example:

```bash
curl http://coordinator:8080/v1/query
```

Gives JSON with details about running queries.
ðŸ‘‰ This is useful to integrate Trino monitoring into **Grafana, Prometheus, or custom dashboards**.

---

## 5. **External Monitoring Tools**

* **Prometheus + Grafana**: Trino exposes **JMX metrics** (query latency, memory, CPU, failures, worker load). You can scrape them with Prometheus and visualize in Grafana.
* **Logs**: Query lifecycle, warnings, and errors are written to `var/log/trino/server.log` and `http-request.log`.

---

# ðŸ”¹ Summary

* **Trino UI ([http://coordinator:8080](http://coordinator:8080))** â†’ Monitor queries, stages, workers.
* **Trino CLI** â†’ Run and track queries manually.
* **System tables** (`system.runtime.queries`, `system.runtime.nodes`) â†’ Programmatic monitoring with SQL.
* **REST API** â†’ Automation, external integration.
* **Prometheus/Grafana + Logs** â†’ Advanced cluster monitoring.
