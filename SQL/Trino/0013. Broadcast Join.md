# ğŸ“Œ What is a Broadcast Join in Trino?

* ğŸ”— A **join strategy** where the **smaller table** is **replicated (broadcast)** to all worker nodes.
* ğŸ“¦ Each worker keeps a full copy of the small table in memory.
* ğŸ–¥ï¸ Then, the larger table is scanned in parallel across workers and joined with the broadcasted table locally.

ğŸ‘‰ This avoids expensive **shuffling** of large data across the cluster.

---

# âš™ï¸ How It Works in Trino

1. ğŸ“Š **Small Table** â†’ Copied to all workers.
2. ğŸ’½ **Big Table** â†’ Split across workers (partitioned).
3. ğŸ–¥ï¸ Each worker â†’ Joins its chunk of the big table with the **in-memory broadcast copy**.
4. ğŸš€ Faster joins because no big shuffle happens.

---

# âœ… When to Use Broadcast Joins

* ğŸ“‰ **Small Table** fits in memory.

  * e.g., A **10K row dimension table** joining with a **1B row fact table**.
* âš¡ **Low-latency queries** (dashboards, BI).
* ğŸ”— Joins with **lookup tables** or **reference data**.
* ğŸ’° Reduces network cost by avoiding shuffling large fact data.

---

# ğŸš« When NOT to Use

* ğŸ›‘ If the **small table is too large** to fit in memory.
* ğŸ¢ May cause OOM (Out Of Memory) errors if broadcasted table is big.
* âš–ï¸ In such cases, Trino may use **partitioned join** instead.

---

# ğŸ–¼ï¸ Visual Comparison

* ğŸ”„ **Partitioned Join**: Both tables are **shuffled** across workers.
* ğŸ“¡ **Broadcast Join**: Only the **small table is broadcast**, big table stays partitioned.

---

# ğŸ’¡ Pro Tip

* You can **force broadcast joins** in Trino using:

```sql
SELECT /*+ BROADCAST(table_small) */ *
FROM big_table b
JOIN small_table s
   ON b.id = s.id;
```
