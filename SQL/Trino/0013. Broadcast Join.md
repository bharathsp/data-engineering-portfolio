# 📌 What is a Broadcast Join in Trino?

* 🔗 A **join strategy** where the **smaller table** is **replicated (broadcast)** to all worker nodes.
* 📦 Each worker keeps a full copy of the small table in memory.
* 🖥️ Then, the larger table is scanned in parallel across workers and joined with the broadcasted table locally.

👉 This avoids expensive **shuffling** of large data across the cluster.

---

# ⚙️ How It Works in Trino

1. 📊 **Small Table** → Copied to all workers.
2. 💽 **Big Table** → Split across workers (partitioned).
3. 🖥️ Each worker → Joins its chunk of the big table with the **in-memory broadcast copy**.
4. 🚀 Faster joins because no big shuffle happens.

---

# ✅ When to Use Broadcast Joins

* 📉 **Small Table** fits in memory.

  * e.g., A **10K row dimension table** joining with a **1B row fact table**.
* ⚡ **Low-latency queries** (dashboards, BI).
* 🔗 Joins with **lookup tables** or **reference data**.
* 💰 Reduces network cost by avoiding shuffling large fact data.

---

# 🚫 When NOT to Use

* 🛑 If the **small table is too large** to fit in memory.
* 🐢 May cause OOM (Out Of Memory) errors if broadcasted table is big.
* ⚖️ In such cases, Trino may use **partitioned join** instead.

---

# 🖼️ Visual Comparison

* 🔄 **Partitioned Join**: Both tables are **shuffled** across workers.
* 📡 **Broadcast Join**: Only the **small table is broadcast**, big table stays partitioned.

---

# 💡 Pro Tip

* You can **force broadcast joins** in Trino using:

```sql
SELECT /*+ BROADCAST(table_small) */ *
FROM big_table b
JOIN small_table s
   ON b.id = s.id;
```
