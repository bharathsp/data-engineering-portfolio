# 🌟 1. What Are These Settings?

PostgreSQL uses **cost-based query planning**. Every plan gets a “cost” in arbitrary units, and the **planner chooses the cheapest plan**. Two important parameters are:

| Parameter          | Description                                                                      |
| ------------------ | -------------------------------------------------------------------------------- |
| `seq_page_cost`    | Cost of reading a **page sequentially** from disk. Default: `1.0`                |
| `random_page_cost` | Cost of reading a **page randomly** (non-sequentially) from disk. Default: `4.0` |

* A **page** = 8 KB of data by default.
* The planner uses these costs to decide **whether to do a sequential scan, index scan, or hash join**.

---

# 🌟 2. How They Work

* **Sequential Scan** cost = `seq_page_cost × number of pages`

* **Index Scan / Random Access** cost = `random_page_cost × number of pages + seq_page_cost × number of rows`

* If `random_page_cost` is **high**, planner prefers **seq scan**.

* If `random_page_cost` is **low**, planner prefers **index scan**.

---

# 🌟 3. Example

Suppose we have `Employees` table (1000 pages, 10 rows per page) and an index on `DeptID`.

```sql
SET random_page_cost = 1.1;   -- low random cost
SET seq_page_cost = 1.0;

EXPLAIN SELECT * FROM Employees WHERE DeptID = 10;
```

* Planner sees **index scan cheaper** → chooses index scan.

```sql
SET random_page_cost = 4.0;   -- default high random cost

EXPLAIN SELECT * FROM Employees WHERE DeptID = 10;
```

* Planner sees **sequential scan cheaper** → chooses seq scan.

---

# 🌟 4. When to Tune

* **SSD drives:** Random access is almost as fast as sequential → **lower `random_page_cost`** (e.g., 1.1–1.5).
* **HDD drives:** Random access is slower → keep `random_page_cost` higher (default 4.0).
* Useful for **big tables** to guide planner to pick the **best scan type**.

---

# 🏡 Real-Life Analogy

* Sequential Scan → Reading a **book page by page 📖**
* Random Scan → Jumping to **random pages using index 🔖**
* `seq_page_cost` → effort to read a page in order
* `random_page_cost` → effort to jump around

---

# 🌟 5. How to Reset

```sql
RESET random_page_cost;
RESET seq_page_cost;
```
